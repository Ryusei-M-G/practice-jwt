# JsonWebTokenを使用した認証機能の練習
認証の流れを把握するために学習用として作成しました。
練習用のためDB接続のコードやキーなどはハードコードしています。
## 機能について
### 1. 登録
#### エンドポイント `/register`
- request bodyのデータをサーバーでチェックしDBへ登録します。この際にbcryptでパスワードをハッシュ化して保存します
### 2. ログイン
#### エンドポイント `/login`
- request bodyのデータを照合して、一致していればトークンを返します。
- Headerには期限15分のアクセストークンを返し、Cookieに期限7日のリフレッシュトークンを返します。
### 3. ログイン認証しているユーザーにしか閲覧できない情報
#### エンドポイント `/profile`
- アクセストークンからユーザー情報と一致しているプロフィール情報を返します。
- アクセストークンの期限が切れていれば、リフレッシュトークンを認証してから新規でアクセストークンを発行します。
- アクセストークンの再発行後はリフレッシュトークンも再発行し新しいものを返します。
### 4. ログアウト
#### エンドポイント `/logout`
- トークンを使用不可にします。
